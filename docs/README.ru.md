# spath

![spath banner](../img/1765746905745-019b1eb7-0a53-7269-9766-481e69cf3b4e.png)

Сканер безопасности и оптимизатор PATH для Windows.

## Проблема

Пути в PATH с пробелами без кавычек создают уязвимости безопасности, которые могут быть использованы для повышения привилегий.

## Решение

spath обнаруживает и исправляет эти уязвимости автоматически.

## Установка

```bash
cargo build --release
```

Расположение бинарника: `target/release/spath.exe`

## Команды

### Сканирование

Анализ PATH на наличие проблем безопасности.

```bash
spath scan
spath scan --verbose
spath scan --audit
```

### Исправление

Исправление проблем в USER PATH (не требует прав администратора).

```bash
spath fix --dry-run
spath fix
spath fix --delicate
```

### Анализ

Анализ SYSTEM и USER PATH.

```bash
spath analyze
```

### Очистка

Удаление дубликатов и оптимизация PATH.

```bash
spath clean --dry-run
spath clean
spath clean --system
spath clean --delicate
```

### Управление резервными копиями

```bash
spath backup
spath list-backups
spath restore <файл-резервной-копии>
spath restore <файл-резервной-копии> --delicate
```

## Типы проблем

**CRITICAL**: Пути с пробелами без кавычек - уязвимость безопасности

**WARNING**: Несуществующие пути или относительные пути

**INFO**: Информационные сообщения

## Рабочий процесс

1. Сканирование: `spath scan --audit`
2. Анализ: `spath analyze`
3. Резервная копия: `spath backup`
4. Исправление USER PATH: `spath fix`
5. Удаление дубликатов: `spath clean`
6. При необходимости восстановление: `spath restore <файл>`

## Требования

- Windows 10 или новее
- Rust 1.70+ (для сборки из исходников)

## Опции

- `--dry-run` или `-d` - Предпросмотр изменений без применения
- `--delicate` - Запрос подтверждения перед применением изменений
- `--system` или `-s` - Включить операции с SYSTEM PATH (требует admin)
- `--verbose` или `-v` - Показать детальную информацию
- `--audit` или `-a` - Показать детальный аудит-отчёт

## Примечания

- Изменения USER PATH не требуют прав администратора
- Изменения SYSTEM PATH требуют прав администратора
- Автоматическое создание резервной копии перед изменениями
- Перезапустите приложения для применения изменений PATH
- Используйте `--delicate` для дополнительной безопасности с подтверждением

## Лицензия

MIT License
